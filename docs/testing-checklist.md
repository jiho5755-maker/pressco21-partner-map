# 파트너맵 v3 - 통합 테스트 체크리스트

**날짜**: 2026-02-11
**버전**: 3.0

## 테스트 환경 준비

### 로컬 테스트 서버
```bash
# Python 내장 서버 (권장)
python3 -m http.server 8000

# 또는 Node.js http-server
npx http-server -p 8000

# 접속: http://localhost:8000
```

### 테스트 데이터
`js/config.js`에 Google Sheets Fallback URL 설정 (메이크샵 API 없이도 테스트 가능)

## Phase 1: 기본 기능 테스트

### 1.1 페이지 로드
- [ ] HTML이 올바르게 렌더링됨
- [ ] CSS가 올바르게 적용됨
- [ ] JavaScript 파일이 모두 로드됨
- [ ] 네이버 지도 SDK가 로드됨
- [ ] Fuse.js가 로드됨
- [ ] 로딩 오버레이가 표시됨
- [ ] 콘솔 에러 없음

**예상 시간**: 3초 이내

### 1.2 데이터 로드
- [ ] 파트너 데이터가 성공적으로 로드됨
- [ ] 결과 카운트가 올바르게 표시됨 (예: "전체 50개 업체")
- [ ] 로딩 오버레이가 사라짐
- [ ] 성공 토스트 알림 표시 ("50개의 제휴 업체를 불러왔습니다.")

### 1.3 지도 초기화
- [ ] 네이버 지도가 표시됨
- [ ] 기본 중심 위치가 올바름 (서울 시청)
- [ ] 기본 줌 레벨이 올바름 (11)
- [ ] 지도 컨트롤이 표시됨 (줌, 지도 타입)

### 1.4 마커 표시
- [ ] 마커가 지도에 표시됨
- [ ] 줌 레벨 10 이하에서 클러스터링 활성화
- [ ] 줌 레벨 11 이상에서 개별 마커 표시
- [ ] 마커 클릭 시 상세 모달 표시

### 1.5 파트너 리스트
- [ ] 파트너 카드가 리스트에 표시됨
- [ ] 로고 이미지가 표시됨 (없으면 기본 이미지)
- [ ] 업체명, 카테고리, 주소, 전화번호가 표시됨
- [ ] 카드 클릭 시 상세 모달 표시
- [ ] 즐겨찾기 버튼이 동작함

## Phase 2: 필터링 테스트

### 2.1 카테고리 필터
- [ ] 카테고리 필터 버튼이 생성됨
- [ ] "전체" 버튼이 기본 활성화됨
- [ ] 카테고리 선택 시 필터 적용됨
- [ ] 지도 마커가 필터링됨
- [ ] 파트너 리스트가 필터링됨
- [ ] 결과 카운트가 업데이트됨

### 2.2 지역 필터
- [ ] 지역 필터 버튼이 생성됨
- [ ] 주소에서 시/도가 올바르게 추출됨
- [ ] 지역 선택 시 필터 적용됨
- [ ] 결과가 올바름

### 2.3 협회 필터
- [ ] 협회 필터 버튼이 생성됨
- [ ] 쉼표로 구분된 협회가 올바르게 분리됨
- [ ] 협회 선택 시 필터 적용됨

### 2.4 파트너 유형 필터
- [ ] 파트너 유형 필터 버튼이 생성됨
- [ ] 유형 선택 시 필터 적용됨
- [ ] 마커 색상이 유형에 따라 변경됨

### 2.5 즐겨찾기 필터
- [ ] 즐겨찾기 탭 클릭 시 전환됨
- [ ] 즐겨찾기한 업체만 표시됨
- [ ] 즐겨찾기 없으면 "즐겨찾기한 업체가 없습니다." 메시지

### 2.6 복합 필터
- [ ] 카테고리 + 지역 필터 조합 동작
- [ ] 결과가 AND 조건 (교집합)으로 필터링됨
- [ ] 필터 초기화 버튼 동작 (전체 선택)

### 2.7 활성 필터 배지
- [ ] 필터 적용 시 배지 표시됨
- [ ] 배지에 필터 레이블 표시됨
- [ ] 배지 제거 버튼 클릭 시 필터 해제됨

### 2.8 URL 동기화
- [ ] 필터 적용 시 URL 파라미터 업데이트됨
- [ ] 페이지 새로고침 시 필터 상태 유지됨
- [ ] 브라우저 뒤로가기 동작함

## Phase 3: 검색 테스트

### 3.1 기본 검색
- [ ] 검색창 입력 가능
- [ ] 2글자 미만 입력 시 자동완성 표시 안 됨
- [ ] 2글자 이상 입력 시 200ms 디바운스 후 자동완성 표시
- [ ] 자동완성에 상위 5개 결과 표시

### 3.2 Fuse.js 퍼지 검색
- [ ] 업체명 검색 동작 (가중치 40%)
- [ ] 주소 검색 동작 (가중치 30%)
- [ ] 카테고리 검색 동작 (가중치 20%)
- [ ] 설명 검색 동작 (가중치 10%)
- [ ] 오타 허용 검색 동작 (threshold 0.3)

### 3.3 자동완성 UI
- [ ] 자동완성 항목에 업체명 표시
- [ ] 자동완성 항목에 주소 (30자) 표시
- [ ] 항목 호버 시 배경색 변경
- [ ] 항목 클릭 시 선택됨
- [ ] ESC 키로 자동완성 닫힘

### 3.4 검색 결과
- [ ] Enter 키로 검색 실행
- [ ] 검색 버튼 클릭으로 검색 실행
- [ ] 검색 결과가 필터링됨
- [ ] 결과 카운트 업데이트
- [ ] "검색 결과가 없습니다." 메시지 표시 (결과 0개)

### 3.5 검색 + 필터 조합
- [ ] 검색어 + 카테고리 필터 동작
- [ ] 검색어 + 지역 필터 동작
- [ ] 모든 조건이 AND로 적용됨

## Phase 4: 지도 상호작용 테스트

### 4.1 마커 클릭
- [ ] 개별 마커 클릭 시 상세 모달 표시
- [ ] 클러스터 마커 클릭 시 줌인 (+2)

### 4.2 클러스터링
- [ ] 줌 아웃 시 (≤10) 클러스터링 활성화
- [ ] 클러스터에 개수 표시
- [ ] 클러스터 색상이 그라데이션
- [ ] 줌 인 시 (≥11) 개별 마커 표시

### 4.3 지도 컨트롤
- [ ] 지도 초기화 버튼 클릭 시 기본 위치로 이동
- [ ] 줌 컨트롤 동작
- [ ] 지도 타입 컨트롤 동작 (일반, 위성)

### 4.4 뷰포트 최적화
- [ ] 뷰포트 밖 마커는 숨김
- [ ] 지도 이동 시 마커 가시성 업데이트
- [ ] 성능 저하 없음 (1000개 마커 기준)

## Phase 5: GPS 기능 테스트

### 5.1 GPS 권한
- [ ] GPS 버튼 클릭 시 권한 요청
- [ ] 권한 허용 시 현재 위치 가져옴
- [ ] 권한 거부 시 에러 토스트 표시

### 5.2 위치 기반 검색
- [ ] GPS 성공 시 "위치 정보를 가져오는 중..." 토스트
- [ ] 지도가 현재 위치로 이동
- [ ] 줌 레벨 13으로 설정
- [ ] "현재 위치로 이동했습니다." 성공 토스트

### 5.3 거리순 정렬
- [ ] 정렬 셀렉트가 "거리순"으로 자동 변경
- [ ] 파트너 리스트가 거리순으로 정렬됨
- [ ] 카드에 거리 배지 표시 (예: "📏 2.3km")

## Phase 6: 상세 모달 테스트

### 6.1 모달 표시
- [ ] 파트너 카드 클릭 시 모달 표시
- [ ] 마커 클릭 시 모달 표시
- [ ] 자동완성 선택 시 모달 표시
- [ ] 배경 오버레이 표시
- [ ] 스크롤 잠김 (body overflow: hidden)

### 6.2 모달 콘텐츠
- [ ] 로고 이미지 표시
- [ ] 업체명 표시
- [ ] 카테고리 태그 표시
- [ ] 소개 표시
- [ ] 주소 표시
- [ ] 전화번호 (클릭 가능 링크)
- [ ] 이메일 (클릭 가능 링크)
- [ ] 홈페이지 링크
- [ ] 인스타그램 링크

### 6.3 모달 액션
- [ ] 즐겨찾기 버튼 동작
- [ ] 공유하기 버튼 클릭 시 공유 모달 표시
- [ ] 네이버 지도 링크 동작 (새 탭)
- [ ] 카카오맵 링크 동작 (새 탭)

### 6.4 모달 닫기
- [ ] X 버튼 클릭 시 닫힘
- [ ] 오버레이 클릭 시 닫힘
- [ ] ESC 키로 닫힘
- [ ] 닫힐 때 스크롤 잠김 해제

## Phase 7: 즐겨찾기 테스트

### 7.1 즐겨찾기 추가
- [ ] 파트너 카드의 하트 버튼 클릭
- [ ] 아이콘이 🤍 → ❤️ 변경
- [ ] "즐겨찾기에 추가되었습니다." 토스트
- [ ] localStorage에 저장됨

### 7.2 즐겨찾기 제거
- [ ] 활성화된 하트 버튼 클릭
- [ ] 아이콘이 ❤️ → 🤍 변경
- [ ] "즐겨찾기에서 제거되었습니다." 토스트
- [ ] localStorage에서 제거됨

### 7.3 즐겨찾기 동기화
- [ ] 모달에서 즐겨찾기 추가 시 카드에 반영
- [ ] 페이지 새로고침 시 즐겨찾기 유지
- [ ] 즐겨찾기 필터 동작

## Phase 8: 공유 기능 테스트

### 8.1 공유 모달
- [ ] 공유 버튼 클릭 시 모달 표시
- [ ] "업체 공유하기" 제목 표시
- [ ] 링크 복사 버튼 표시
- [ ] 카카오톡 버튼 표시

### 8.2 링크 복사
- [ ] 링크 복사 버튼 클릭
- [ ] Clipboard API로 복사 (모던 브라우저)
- [ ] Fallback 복사 (구형 브라우저)
- [ ] "링크가 복사되었습니다." 토스트
- [ ] 공유 모달 닫힘

### 8.3 공유 URL
- [ ] URL에 partnerId 파라미터 포함
- [ ] 공유 링크 접속 시 해당 파트너 모달 자동 표시
- [ ] 지도가 해당 위치로 이동

## Phase 9: 정렬 테스트

### 9.1 이름순 정렬
- [ ] 정렬 셀렉트에서 "이름순" 선택
- [ ] 파트너 리스트가 한글 가나다순으로 정렬됨
- [ ] 필터와 함께 동작

### 9.2 거리순 정렬
- [ ] GPS 위치 설정 필요
- [ ] 정렬 셀렉트에서 "거리순" 선택
- [ ] 가까운 업체부터 표시
- [ ] 거리 배지 표시

### 9.3 최근 추가순 정렬
- [ ] 정렬 셀렉트에서 "최근 추가순" 선택
- [ ] ID 역순으로 정렬됨

## Phase 10: 토스트 알림 테스트

### 10.1 토스트 타입
- [ ] success: 녹색 배경
- [ ] error: 빨간색 배경
- [ ] warning: 주황색 배경
- [ ] info: 파란색 배경

### 10.2 토스트 동작
- [ ] 토스트가 우하단에 표시됨
- [ ] 슬라이드 인 애니메이션
- [ ] 3초 후 자동 사라짐
- [ ] 슬라이드 아웃 애니메이션
- [ ] 여러 토스트 동시 표시 가능 (스택)

## Phase 11: 반응형 테스트

### 11.1 데스크톱 (1200px 이상)
- [ ] 지도/리스트 좌우 배치 (Grid)
- [ ] 지도: 왼쪽, 리스트: 오른쪽 (400px)
- [ ] 모든 기능 정상 동작

### 11.2 태블릿 (768px - 992px)
- [ ] 지도/리스트 상하 배치
- [ ] 지도 높이: 400px
- [ ] 리스트 높이: 600px
- [ ] 터치 동작 확인

### 11.3 모바일 (768px 이하)
- [ ] 지도/리스트 상하 배치
- [ ] 검색창 전체 폭
- [ ] GPS 버튼 텍스트 숨김 (아이콘만)
- [ ] 필터 버튼 크기 축소
- [ ] 모달 전체 화면 (95%)
- [ ] 터치 영역 44x44px 이상

## Phase 12: 브라우저 호환성 테스트

### 12.1 Chrome (최신)
- [ ] 모든 기능 동작
- [ ] 성능 양호
- [ ] 콘솔 에러 없음

### 12.2 Safari (최신)
- [ ] 모든 기능 동작
- [ ] iOS Safari 테스트
- [ ] 웹킷 특수 처리 확인

### 12.3 Edge (최신)
- [ ] 모든 기능 동작
- [ ] Chromium 기반 확인

### 12.4 Firefox (최신)
- [ ] 모든 기능 동작
- [ ] Gecko 엔진 호환성

## Phase 13: 성능 테스트

### 13.1 초기 로드
- [ ] 페이지 로드: 3초 이내 ✅
- [ ] JavaScript 실행: 1초 이내
- [ ] 데이터 로드: 2초 이내 (네트워크 제외)

### 13.2 렌더링 성능
- [ ] 1000개 마커: 클러스터링 50ms 이내
- [ ] 1000개 카드: 리스트 렌더링 200ms 이내
- [ ] 필터 적용: 100ms 이내

### 13.3 메모리
- [ ] 메모리 누수 없음
- [ ] 장시간 사용 시 성능 저하 없음
- [ ] 이미지 lazy loading 동작 (선택)

## Phase 14: 에러 핸들링 테스트

### 14.1 네트워크 에러
- [ ] API 실패 시 Fallback 동작
- [ ] 에러 토스트 표시
- [ ] 사용자에게 명확한 메시지

### 14.2 GPS 에러
- [ ] 권한 거부: "위치 권한이 거부되었습니다."
- [ ] 위치 없음: "위치 정보를 사용할 수 없습니다."
- [ ] 타임아웃: "위치 정보 요청 시간이 초과되었습니다."

### 14.3 데이터 에러
- [ ] 빈 배열: "검색 결과가 없습니다."
- [ ] 좌표 없음: 해당 마커 스킵, 콘솔 경고
- [ ] 이미지 404: 기본 이미지로 대체

## Phase 15: 메이크샵 통합 테스트

### 15.1 HTML 편집기 삽입
- [ ] 템플릿 리터럴 이스케이프 확인
- [ ] 가상 태그 보존 확인
- [ ] 저장 성공

### 15.2 CSS 충돌
- [ ] 기존 쇼핑몰 스타일과 충돌 없음
- [ ] #partnermap-container 스코핑 동작

### 15.3 메이크샵 API
- [ ] API 키 설정
- [ ] 조회 API 동작 (시간당 500회 제한 준수)
- [ ] Rate limiting 큐잉 동작
- [ ] 캐싱 동작 (24시간)

## 최종 체크리스트

- [ ] 모든 Phase 1-15 테스트 통과
- [ ] 브라우저 콘솔에 에러 없음
- [ ] 네트워크 탭에 404 없음
- [ ] 성능 프로파일 정상
- [ ] 메모리 누수 없음
- [ ] 모바일 터치 동작 확인
- [ ] 접근성 (키보드 네비게이션) 확인
- [ ] SEO 메타태그 확인
- [ ] 문서화 완료

## 테스트 결과 기록

### 날짜: ______________________
### 테스터: ______________________

| Phase | 통과 | 실패 | 비고 |
|-------|------|------|------|
| 1. 기본 기능 | ☐ | ☐ | |
| 2. 필터링 | ☐ | ☐ | |
| 3. 검색 | ☐ | ☐ | |
| 4. 지도 상호작용 | ☐ | ☐ | |
| 5. GPS 기능 | ☐ | ☐ | |
| 6. 상세 모달 | ☐ | ☐ | |
| 7. 즐겨찾기 | ☐ | ☐ | |
| 8. 공유 기능 | ☐ | ☐ | |
| 9. 정렬 | ☐ | ☐ | |
| 10. 토스트 | ☐ | ☐ | |
| 11. 반응형 | ☐ | ☐ | |
| 12. 브라우저 호환 | ☐ | ☐ | |
| 13. 성능 | ☐ | ☐ | |
| 14. 에러 핸들링 | ☐ | ☐ | |
| 15. 메이크샵 통합 | ☐ | ☐ | |

### 발견된 버그

1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

### 개선 제안

1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

---

**테스트 완료 서명**: ______________________
**승인**: ______________________
